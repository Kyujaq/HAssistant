template:
  - select:
      name: Energy Band
      state: "{{ state_attr('sensor.orchestrator_config', 'energy_band') | default('medium') }}"
      options: "{{ ['low', 'medium', 'high'] }}"
      select_option:
        service: rest_command.set_orch_config
        data:
          payload: >-
            {"energy_band":"{{ option }}"}
  - select:
      name: Focus Mode
      state: "{{ state_attr('sensor.orchestrator_config', 'focus_mode') | default('admin') }}"
      options: "{{ ['deep', 'admin', 'errands'] }}"
      select_option:
        service: rest_command.set_orch_config
        data:
          payload: >-
            {"focus_mode":"{{ option }}"}

rest_command:
  set_orch_config:
    url: http://orchestrator:8020/config
    method: POST
    headers:
      Content-Type: application/json
    payload: "{{ payload }}"
