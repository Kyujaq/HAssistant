# HAssistant Environment Configuration
# Copy this file to .env and update with your actual values

# ============================================================================
# Home Assistant
# ============================================================================
HA_BASE_URL=http://assistant-ha:8123
# Get from HA UI: Profile -> Long-Lived Access Tokens -> Create Token
HA_TOKEN=CHANGE_ME_YOUR_HA_TOKEN_HERE

# ============================================================================
# Timezone Configuration
# ============================================================================
TIME_ZONE=America/Toronto

# ============================================================================
# Ollama LLM Configuration
# ============================================================================
OLLAMA_HOST=http://ollama-chat:11434
OLLAMA_VISION_BASE=http://ollama-vision:11434
OLLAMA_VISION_MODEL=qwen2.5vl:7b

# ============================================================================
# PostgreSQL Database (Memory Storage)
# ============================================================================
# SECURITY WARNING: Change this password before deployment!
# Generate a strong password: pwgen -s 32 1 OR openssl rand -base64 32
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_REQUIRED
POSTGRES_DB=hassistant
POSTGRES_USER=hassistant

# Letta Bridge connection string
# IMPORTANT: Update the password in the URI to match POSTGRES_PASSWORD above
LETTA_PG_URI=postgresql://hassistant:CHANGE_ME_STRONG_PASSWORD_REQUIRED@hassistant-postgres:5432/hassistant

# ============================================================================
# Redis Cache Configuration
# ============================================================================
# SECURITY WARNING: Change this password before deployment!
# Generate a strong password: pwgen -s 32 1 OR openssl rand -base64 32
REDIS_PASSWORD=CHANGE_ME_STRONG_PASSWORD_REQUIRED
# IMPORTANT: Update the password in the URL to match REDIS_PASSWORD above
LETTA_REDIS_URL=redis://:CHANGE_ME_STRONG_PASSWORD_REQUIRED@hassistant-redis:6379/0

# ============================================================================
# Letta Bridge API Configuration
# ============================================================================
# SECURITY WARNING: Change this API key before deployment!
# Generate a secure key: openssl rand -hex 32 OR pwgen -s 32 1
BRIDGE_API_KEY=CHANGE_ME_SECURE_API_KEY_REQUIRED
PORT=8081
EMBED_DIM=1536
DAILY_BRIEF_WINDOW_HOURS=24

# ============================================================================
# Vision Gateway Configuration
# ============================================================================
# HDMI capture device
HDMI_DEVICE=/dev/video0
HDMI_ENABLED=true
HDMI_FPS=2
HDMI_RESIZE_LONG=1280

# Motion detection settings
MOTION_THRESHOLD=0.015
COOLDOWN_SECONDS=8

# ============================================================================
# Tesla K80 Vision Workers Configuration
# ============================================================================
# GPU device assignments for K80 vision workers
# K80 has two logical GPUs on one board (each 12 GB VRAM)
# Auto-detection will assign K80 GPUs if not specified
VISION_SCREEN_CUDA_DEVICE=2
VISION_ROOM_CUDA_DEVICE=3

# ============================================================================
# Frigate Configuration
# ============================================================================
# SECURITY WARNING: Change this password before deployment!
FRIGATE_RTSP_PASSWORD=CHANGE_ME_FRIGATE_PASSWORD

# ============================================================================
# Security Notes
# ============================================================================
# CRITICAL: All passwords and keys in this file MUST be changed before use!
# 
# 1. ALWAYS change ALL default passwords and API keys before deployment
# 2. Use strong, randomly generated passwords:
#    - Linux/Mac: pwgen -s 32 1 OR openssl rand -base64 32
#    - PowerShell: -join ((48..57) + (65..90) + (97..122) | Get-Random -Count 32 | % {[char]$_})
# 3. Never commit the actual .env file to version control (.gitignore protects this)
# 4. Restrict file permissions: chmod 600 .env (Linux/Mac)
# 5. For production environments:
#    - Use Docker secrets or a secrets manager (Vault, AWS Secrets Manager, etc.)
#    - Enable TLS/SSL for all external-facing services
#    - Implement rate limiting on API endpoints
#    - Set up network segmentation and firewall rules
#    - Enable audit logging
# 6. Rotate all passwords and keys regularly (every 90 days minimum)
